{% extends 'samples/systemBase.html' %}

{% block mainContent%}
<div class="container">

      <div class="row">
        <div class="col-md-2">
          <div class="card mb-4 shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="100%" height="100" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="35%" y="50%" fill="#eceeef" dy=".3em">HELLO</text></svg>
{#            <img class="img-circle img-thumbnail" src="../../static/images/auth/login.jpg" alt="头像"/>#}
            <div class="card-body">
                <p class="card-text">
                    <img class="rounded-circle align-content-lg-center"  height="115" width="115"   src="{% if user.icon %}
                    {{ url_for('static',filename =user.icon) }}
                    {% else %}
                    {{ url_for('static',filename ='upload/avatar/default__0__.jpg') }}
                    {% endif %}" alt="icon"/>
                </p>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Change Icon</button>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Change Icon</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action="{{ url_for('main.change_avatar') }}" method="post" id="iconForm" enctype="multipart/form-data">
          <div class="custom-file">
  <input type="file" class="form-control" id="customFile" name="icon" >
  <label class="custom-file-label" for="customFile"></label><span class="alert alert-light">Note: .jpg, .png, .bmp only</span>

</div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="submitIcon">Save</button>
      </div>
    </div>
  </div>
</div>
{#              <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>#}
            </div>
          </div>
        </div>
        <div class="col-md-10">
          <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="100" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="30%" y="50%" fill="#eceeef" dy=".3em" class="font-weight-bold">Welcome to BJUT Dormitory Management System</text></svg>

            <div class="card-body">
                <form>

  <div class="form-group row">
    <label for="staticEmail" class="col-sm-3 col-form-label">Name</label>
    <div class="col-sm-9">
      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{user.user_name}}">
    </div>
  </div>
  <div class="form-group row">
    <label for="staticEmail" class="col-sm-3 col-form-label">Working Number</label>
    <div class="col-sm-9">
      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{user.stu_wor_id}}">
    </div>
  </div>


                    <div class="form-group row">
    <label for="staticEmail" class="col-sm-3 col-form-label">Phone</label>
    <div class="col-sm-9">
      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{ user.phone }}">
    </div>
  </div>
   <div class="form-group row">
    <label for="staticEmail" class="col-sm-3 col-form-label">Email</label>
    <div class="col-sm-9">
      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{ user.email }}">
    </div>
  </div>
</form>
 <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal1" data-whatever="@getbootstrap">Modify</button>

<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New message</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
<div class="modal-body">
        <form action="{{ url_for('main.edit_profile') }}" id="modifyForm" method="post">
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Phone:</label>
            <input type="text" class="form-control" name="phone" placeholder="{{ user.phone }}">
          </div>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Email:</label>
            <input type="email" class="form-control" name="email" placeholder="{{ user.email }}">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="modify">Modify</button>
      </div>
    </div>
  </div>
</div>
      </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
</div>



{#  <div class="jumbotron p-4 p-md-5 text-white rounded bg-primary">#}
{#      <div class="row mb-2">#}
{#        <div class="col-md-6 px-0 col-md-9">#}
{#      <h1 class="display-4 font-italic">Title of a longer featured blog post</h1>#}
{#      <p class="lead my-3">Multiple lines of text that form the lede, informing new readers quickly and efficiently about what’s most interesting in this post’s contents.</p>#}
{#      <p class="lead mb-0"><a href="#" class="text-white font-weight-bold">Continue reading...</a></p>#}
{#    </div>#}
{#          <div class="col-md-3">#}
{#             <img class="rounded img-fluid img-thumbnail float-right" src="../../static/images/auth/login.jpg" alt="头像"/>#}
{#             <h3 class="align-content-lg-center">Hello! {{ current_user.user_name }}</h3>#}
{#          </div>#}
{#      </div>#}
{##}
{#  </div>#}
{##}
{#  <div class="row mb-2">#}
{#    <div class="col-md-6">#}
{#      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">#}
{#        <div class="col p-4 d-flex flex-column position-static">#}
{#          <strong class="d-inline-block mb-2 text-primary">World</strong>#}
{#          <h3 class="mb-0">Featured post</h3>#}
{#          <div class="mb-1 text-muted">Nov 12</div>#}
{#          <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>#}
{#          <a href="#" class="stretched-link">Continue reading</a>#}
{#        </div>#}
{#        <div class="col-auto d-none d-lg-block">#}
{#          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>#}
{##}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#    <div class="col-md-6">#}
{#      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">#}
{#        <div class="col p-4 d-flex flex-column position-static">#}
{#          <strong class="d-inline-block mb-2 text-success">Design</strong>#}
{#          <h3 class="mb-0">Post title</h3>#}
{#          <div class="mb-1 text-muted">Nov 11</div>#}
{#          <p class="mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>#}
{#          <a href="#" class="stretched-link">Continue reading</a>#}
{#        </div>#}
{#        <div class="col-auto d-none d-lg-block">#}
{#          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>#}
{##}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{#</div>#}
{% endblock %}

{% block js %}
<script>
 $('#submitIcon').click(function(){

	document.getElementById("iconForm").submit();
});
</script>
<script>
 $('#modify').click(function(){
    let id = $('#email').val();
    let phone = $('#phone').val();

    console.log(id);
    console.log(phone);

	document.getElementById("modifyForm").submit();
});
</script>
{% endblock %}